<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">

  
  <title>Web加载速度优化清单 - 安望云海</title>
  
  <link rel="sitemap" href="https://w3cay.com/sitemap.xml">
  
  <link rel="canonical" href="https://w3cay.com/post/5891d813.html">
  
  <meta name="description" content="网页加载速度是衡量一个网页好坏的重要标准，网页遗弃率随网页加载时间的增加而增加。据说近一半的用户希望网页加载时间不超过2s，超过3s一般就放弃该网页。时间就是生命，干等着，谁愿意平白无故地+1s呀，所以今天来整理下具体如何加快网页 HTML 压缩 HTML: HTML代码压缩，将注释、空格和新行从生">
  
  
  <meta name="keywords" content="安望云海，前端开发，小程序开发">
  
  <meta name="author" content="Bright Chen">
  
  <meta property="og:image" content="https://w3cay.comundefined">
  
  <meta property="og:site_name" content="安望云海">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Web加载速度优化清单 - 安望云海">
  
  <meta property="og:description" content="网页加载速度是衡量一个网页好坏的重要标准，网页遗弃率随网页加载时间的增加而增加。据说近一半的用户希望网页加载时间不超过2s，超过3s一般就放弃该网页。时间就是生命，干等着，谁愿意平白无故地+1s呀，所以今天来整理下具体如何加快网页 HTML 压缩 HTML: HTML代码压缩，将注释、空格和新行从生">
  
  <meta property="og:url" content="https://w3cay.com/post/5891d813.html">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Web加载速度优化清单 - 安望云海">
  
  <meta name="twitter:description" content="网页加载速度是衡量一个网页好坏的重要标准，网页遗弃率随网页加载时间的增加而增加。据说近一半的用户希望网页加载时间不超过2s，超过3s一般就放弃该网页。时间就是生命，干等着，谁愿意平白无故地+1s呀，所以今天来整理下具体如何加快网页 HTML 压缩 HTML: HTML代码压缩，将注释、空格和新行从生">
  
  
  <meta name="twitter:image" content="https://w3cay.comundefined">
  
  <meta name="twitter:url" content="https://w3cay.com/post/5891d813.html">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/skeleton.css">
  <link rel="stylesheet" href="../css/custom.css">
  <!-- User css -->
  

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.ico">

  <!-- Custom Theme Color Style
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <style>
  a:not(.icon) {
    text-decoration-color: #333;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #333 50%
    );
  }
  blockquote {
    border-left: 8px solid #333;
  }
  .nanobar .bar {
    background: #333;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #333;
    border-color: #333;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #333;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?328fa5a80a196b37e6ca528f42086a81";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  

</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="six columns">
    <h1 class="mt-2 vertical-center">
      <img class="home-avatar" src="/images/home-avatar.jpg">
      安望云海
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">首页</a>
        
          
          <a href="../product" class="ml">产品</a>
          
        
          
          <a href="../sentence" class="ml">想法</a>
          
        
          
          <a href="../about" class="ml">关于</a>
          
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h1 class="post-title">Web加载速度优化清单</h1>
  <p class="subtitle"> 发布于 2018-09-01</p>

  <p class="post-content">
    </p><p>网页加载速度是衡量一个网页好坏的重要标准，网页遗弃率随网页加载时间的增加而增加。据说近一半的用户希望网页加载时间不超过2s，超过3s一般就放弃该网页。时间就是生命，干等着，谁愿意平白无故地+1s呀，所以今天来整理下具体如何加快网页</p>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><ul>
<li><p><strong>压缩 HTML:</strong> HTML代码压缩，将注释、空格和新行从生产文件中删除。</p>
<p>  <em>为什么：</em></p>
<blockquote>
<p>删除所有不必要的空格、注释和中断行将减少HTML的大小，加快网站的页面加载时间，并显著减少用户的下载时间。</p>
</blockquote>
<p>  <em>怎么做：</em></p>
<blockquote>
<p>大多数框架都有插件用来压缩网页的体积。你可以使用一组可以自动完成工作的NPM模块。</p>
</blockquote>
<ul>
<li>🛠 <a href="http://minifycode.com/html-minifier/" rel="external nofollow noopener noreferrer" target="_blank">HTML minifier | Minify Code</a></li>
<li>📖 <a href="http://perfectionkills.com/experimenting-with-html-minifier/#use_short_doctype" rel="external nofollow noopener noreferrer" target="_blank">Experimenting with HTML minifier — Perfection Kills</a></li>
</ul>
</li>
<li><p><strong>删除不必要的注释：</strong> 确保从您的网页中删除注释。</p>
<p>  <em>为什么：</em></p>
<blockquote>
<p>注释对用户来说是没有用的，应该从生产环境文件中删除。可能需要保留注释的一种情况是：保留远端代码库（keep the origin for a library）。</p>
</blockquote>
<p>  <em>怎么做：</em></p>
<blockquote>
<p>大多数情况下，可以使用HTML minify插件删除注释。</p>
</blockquote>
<ul>
<li>🛠 <a href="https://www.npmjs.com/package/remove-html-comments" rel="external nofollow noopener noreferrer" target="_blank">remove-html-comments - npm</a></li>
</ul>
</li>
<li><p><strong>删除不必要的属性：</strong> 像 <code>type=&quot;text/javascript&quot;</code> or <code>type=&quot;text/css&quot;</code> 这样的属性应该被移除。</p>
<pre><code class="html">  &lt;!-- Before HTML5 --&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      // Javascript code
  &lt;/script&gt;

  &lt;!-- Today --&gt;
  &lt;script&gt;
      // Javascript code
  &lt;/script&gt;
</code></pre>
<p>  <em>为什么</em></p>
<blockquote>
<p>类型属性不是必需的，因为HTML5把text/css和text/javascript作为默认值。没用的代码应在网站或应用程序中删除，因为它们会使网页体积增大。</p>
</blockquote>
<p>  <em>怎么做：</em></p>
<blockquote>
<p>⁃ 确保所有link和script标记都没有任何type属性。</p>
</blockquote>
<ul>
<li>📖 <a href="https://css-tricks.com/the-script-tag/" rel="external nofollow noopener noreferrer" target="_blank">The Script Tag | CSS-Tricks</a></li>
</ul>
</li>
<li><p><strong>在JavaScript引用之前引用CSS标记：</strong>  确保在使用JavaScript代码之前加载CSS。</p>
<p>  <em>为什么：</em></p>
<blockquote>
<p>在引用JavaScript之前引用CSS可以实现更好地并行下载，从而加快浏览器的渲染速度。</p>
</blockquote>
<p>  <em>怎么做：</em></p>
<blockquote>
<p>确保 head 中的 link 和 style 始终位于 script 之前。</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>最小化iframe的数量：</strong>  仅在没有任何其他技术可行性时才使用iframe。尽量避免使用iframe。</p>
</li>
<li><p><strong>DNS预取：</strong>  一次 DNS 查询时间大概在60-120ms之间或者更长，提前解析网页中可能的网络连接域名</p>
<pre><code class="html">   &lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://example.com/&quot;&gt;
</code></pre>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3></li>
<li><p><strong>压缩:</strong>  所有CSS文件都需要被压缩，从生产文件中删除注释，空格和空行。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>缩小CSS文件后，内容加载速度更快，并且将更少的数据发送到客户端，所以在生产中缩小CSS文件是非常重要，这对用户是有益的，就像任何企业想要降低带宽成本和降低资源。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>使用工具在构建或部署之前自动压缩文件。</p>
</blockquote>
<ul>
<li>🛠 <a href="https://cssnano.co/" rel="external nofollow noopener noreferrer" target="_blank">cssnano: 基于PostCSS生态系统的模块化压缩工具。</a></li>
<li>🛠 <a href="https://www.npmjs.com/package/@neutrinojs/style-minify" rel="external nofollow noopener noreferrer" target="_blank">@neutrinojs/style-minify - npm</a></li>
</ul>
</li>
<li><p><strong>Concatenation:</strong>  CSS文件合并（对于HTTP/2效果不是很大）。</p>
<pre><code class="html">
 &lt;!-- 不推荐 --&gt;
 &lt;link rel=&quot;stylesheet&quot; href=&quot;foo.css&quot;/&gt;
 &lt;link rel=&quot;stylesheet&quot; href=&quot;bar.css&quot;/&gt;

 &lt;!-- 推荐 --&gt;
 &lt;link rel=&quot;stylesheet&quot; href=&quot;foobar.css&quot;/&gt;
</code></pre>
<p> <em>为什么：</em></p>
<blockquote>
<p>如果你还在使用HTTP/1，那么你就需要合并你的文件。不过在使用HTTP/2的情况下不用这样（效果待测试）。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>在构建或部署之前使用在线工具或者其他插件来合并文件。<br>当然，要确保合并文件后项目可以正常运行。</p>
</blockquote>
<ul>
<li>📖 <a href="https://hpbn.co/optimizing-application-delivery/#optimizing-for-http2" rel="external nofollow noopener noreferrer" target="_blank">HTTP: 优化应用程序交付 - 高性能浏览器网络 (O’Reilly)</a></li>
<li>📖 <a href="https://deliciousbrains.com/performance-best-practices-http2/" rel="external nofollow noopener noreferrer" target="_blank">HTTP/2时代的性能最佳实践</a></li>
</ul>
</li>
<li><p><strong>非阻塞：</strong>  CSS文件需要非阻塞引入，以防止DOM花费更多时间才能渲染完成。</p>
<pre><code class="html"> &lt;link rel=&quot;preload&quot; href=&quot;global.min.css&quot; as=&quot;style&quot; onload=&quot;this.rel=&#39;stylesheet&#39;&quot;&gt;
 &lt;noscript&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;global.min.css&quot;&gt;&lt;/noscript&gt;
</code></pre>
<p> <em>为什么：</em></p>
<blockquote>
<p>CSS文件可以阻止页面加载并延迟页面呈现。使用<code>preload</code>实际上可以在浏览器开始显示页面内容之前加载CSS文件。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>需要添加<code>rel</code>属性并赋值<code>preload</code>，并在<code>&lt;link&gt;</code>元素上添加<code>as=“style”</code>。</p>
</blockquote>
<ul>
<li>📖 <a href="https://github.com/filamentgroup/loadCSS" rel="external nofollow noopener noreferrer" target="_blank">loadCSS by filament group</a></li>
<li>📖 <a href="https://gist.github.com/thedaviddias/c24763b82b9991e53928e66a0bafc9bf" rel="external nofollow noopener noreferrer" target="_blank">使用loadCSS预加载CSS的示例</a></li>
<li>📖 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content" rel="external nofollow noopener noreferrer" target="_blank">使用rel =“preload”预加载内容</a></li>
<li>📖 <a href="https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/" rel="external nofollow noopener noreferrer" target="_blank">Preload: What Is It Good For? — Smashing Magazine</a></li>
</ul>
</li>
<li><p><strong>CSS类(class)的长度:</strong> class的长度会对HTML和CSS文件产生（轻微）影响。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>甚至性能影响也是有争议的，项目的命名策略会对样式表的可维护性有重大影响。如果使用BEM，在某些情况下可能会写出比所需要的类名更长的字符。重要的是要明智的选择名字和命名空间。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>可能有些人更关注类名的长度，但是网站按组件进行划分的话可以帮助减少类名的数量和长度。</p>
</blockquote>
<ul>
<li>🛠 <a href="https://jsperf.com/long-vs-short-class" rel="external nofollow noopener noreferrer" target="_blank">long vs short class · jsPerf</a></li>
</ul>
</li>
<li><p><strong>不用的CSS:</strong>  删除未使用的CSS选择器。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>删除未使用的CSS选择器可以减小文件的大小，提高资源的加载速度。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>⚠️ 检查要使用的CSS框架是否已包含reset/normalize代码，可能不需要用到reset/normalize文件中的内容。</p>
</blockquote>
<ul>
<li>🛠 <a href="https://uncss-online.com/" rel="external nofollow noopener noreferrer" target="_blank">UnCSS Online</a></li>
<li>🛠 <a href="https://github.com/purifycss/purifycss" rel="external nofollow noopener noreferrer" target="_blank">PurifyCSS</a></li>
<li>🛠 <a href="https://github.com/FullHuman/purgecss" rel="external nofollow noopener noreferrer" target="_blank">PurgeCSS</a></li>
<li>🛠 <a href="https://developers.google.com/web/updates/2017/04/devtools-release-notes#coverage" rel="external nofollow noopener noreferrer" target="_blank">Chrome DevTools Coverage</a></li>
</ul>
</li>
</ul>
<h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><ul>
<li><p><strong>JS 压缩:</strong>  所有JavaScript文件都要被压缩，生产环境中删除注释、空格和空行（在HTTP/2仍然有效果）。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>删除所有不必要的空格、注释和空行将减少JavaScript文件的大小，并加快网站的页面加载时间，提升用户体验。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>建议使用下面的工具在构建或部署之前自动缩小文件。</p>
</blockquote>
<ul>
<li>📖 <a href="https://www.npmjs.com/package/uglify-js" rel="external nofollow noopener noreferrer" target="_blank">uglify-js - npm</a></li>
<li>📖 <a href="https://scaleyourcode.com/blog/article/28" rel="external nofollow noopener noreferrer" target="_blank">Short read: How is HTTP/2 different? Should we still minify and concatenate?</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>非阻塞JavaScript：</strong>  使用defer属性或使用async来异步加载JavaScript文件。</p>
<pre><code class="html"> &lt;!-- Defer Attribute --&gt;
 &lt;script defer src=&quot;foo.js&quot;&gt;

 &lt;!-- Async Attribute --&gt;
 &lt;script async src=&quot;foo.js&quot;&gt;
</code></pre>
<p> <em>为什么：</em></p>
<blockquote>
<p>JavaScript阻止HTML文档的正常解析，因此当解析器到达script标记时（特别是在<head><meta name="generator" content="Hexo 3.9.0">内），它会停止解析并且执行脚本。如果您的脚本位于页面顶部，则强烈建议添加<code>async</code>和<code>defer</code>，但如果在标记之前加载，没有太大影响。但是，使用这些属性来避免性能问题是一种很好的做法。</head></p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>添加<code>async</code>（如果脚本不依赖于其他脚本）或<code>defer</code>（如果脚本依赖或依赖于异步脚本）作为script脚本标记的属性。<br>如果有小脚本，可以在异步脚本上方使用内联脚本。</p>
</blockquote>
<ul>
<li>📖 <a href="https://developers.google.com/speed/docs/insights/BlockingJS" rel="external nofollow noopener noreferrer" target="_blank">Remove Render-Blocking JavaScript</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>使用 tree shaking 技术减少 js 大小:</strong>  通过构建工具分析 JavaScript 代码并移除生产环境中用不到的 js 模块或方法</p>
<ul>
<li>📖 <a href="https://developers.google.com/web/fundamentals/performance/optimizing-javascript/tree-shaking/" rel="external nofollow noopener noreferrer" target="_blank"><br>Reduce JavaScript Payloads with Tree Shaking</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>使用 code splitting 分包加载 js:</strong>  通过分包加载，减少首次加载所需时间</p>
<p> <em>怎么做：</em></p>
<blockquote>
<p><strong>Vendor splitting</strong> 根据库文件拆分模块，例如 React 或 lodash 单独打包成一个文件<br><strong>Entry point splitting</strong> 根据入口拆分模块，例如通过多页应用入口或者单页应用路由进行拆分<br><strong>Dynamic splitting</strong> 根据动态加载拆分模块，使用动态加载语法 <code>import()</code> ，实现模块按需加载</p>
</blockquote>
<ul>
<li>📖 <a href="https://developers.google.com/web/fundamentals/performance/optimizing-javascript/code-splitting/" rel="external nofollow noopener noreferrer" target="_blank">Reduce JavaScript Payloads with Tree Shaking</a> </li>
</ul>
</li>
</ul>
<h3 id="图片资源"><a href="#图片资源" class="headerlink" title="图片资源"></a>图片资源</h3><ul>
<li>📖 <a href="https://httparchive.org/reports/page-weight#bytesImg" rel="external nofollow noopener noreferrer" target="_blank">Image Bytes in 2018</a></li>
</ul>
<ul>
<li><p><strong>图像优化:</strong>  在保证压缩后的图片符合产品要求的情况下将图像进行优化。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>优化的图像在浏览器中加载速度更快，消耗的数据更少。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>尽可能尝试使用CSS3效果（而不是用小图像替代）<br>尽可能使用字体图片<br>使用 SVG<br>使用编译工具并指定85以下的级别压缩。</p>
</blockquote>
<ul>
<li>📖 <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/image-optimization" rel="external nofollow noopener noreferrer" target="_blank">Image Optimization | Web Fundamentals | Google Developers</a></li>
<li>🛠 <a href="https://tinyjpg.com/" rel="external nofollow noopener noreferrer" target="_blank">TinyJPG – Compress JPEG images intelligently</a></li>
<li>🛠 <a href="https://kraken.io/web-interface" rel="external nofollow noopener noreferrer" target="_blank">Kraken.io - Online Image Optimizer</a></li>
<li>🛠 <a href="https://compressor.io/compress" rel="external nofollow noopener noreferrer" target="_blank">Compressor.io - optimize and compress JPEG photos and PNG images</a></li>
<li>🛠 <a href="https://webspeedtest.cloudinary.com/" rel="external nofollow noopener noreferrer" target="_blank">Cloudinary - Image Analysis Tool</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>图像格式：</strong>  适当选择图像格式。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>确保图片不会减慢网站速度</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>使用<a href="https://developers.google.com/web/tools/lighthouse/" rel="external nofollow noopener noreferrer" target="_blank">Lighthouse</a>识别哪些图像可以使用下一代图片格式（如JPEG 2000m JPEG XR或WebP）。<br>比较不同的格式，有时使用PNG8比PNG16好，有时候不是。</p>
</blockquote>
<ul>
<li>📖 <a href="https://developers.google.com/web/tools/lighthouse/audits/webp" rel="external nofollow noopener noreferrer" target="_blank">Serve Images in Next-Gen Formats  |  Tools for Web Developers  |  Google Developers</a></li>
<li>📖 <a href="https://www.sitepoint.com/what-is-the-right-image-format-for-your-website/" rel="external nofollow noopener noreferrer" target="_blank">What Is the Right Image Format for Your Website? — SitePoint</a><ul>
<li>📖 <a href="https://www.sitepoint.com/png8-the-clear-winner/" rel="external nofollow noopener noreferrer" target="_blank">PNG8 - The Clear Winner — SitePoint</a></li>
<li>📖 <a href="https://www.diyphotography.net/8-bit-vs-16-bit-color-depth-use-matters/" rel="external nofollow noopener noreferrer" target="_blank">8-bit vs 16-bit - What Color Depth You Should Use And Why It Matters - DIY Photography</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>使用矢量图像 VS 栅格/位图：</strong>  可以的话，推荐使用矢量图像而不是位图图像。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>矢量图像（SVG）往往比图像小，具有响应性和完美缩放功能。而且这些图像可以通过CSS进行动画和修改操作。</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>图像尺寸：</strong>  如果已知最终渲染图像大小，请在<img>上设置宽度和高度属性。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>如果设置了高度和宽度，则在加载页面时会保留图像所需的空间。如果没有这些属性，浏览器就不知道图像的大小，也无法为其保留适当的空间，导致页面布局在加载期间发生变化。</p>
</blockquote>
</li>
<li><p><strong>避免使用Base64图像：</strong>  你可以将微小图像转换为base64，但实际上并不是最佳实践。</p>
<ul>
<li>📖 <a href="https://csswizardry.com/2017/02/base64-encoding-and-performance/" rel="external nofollow noopener noreferrer" target="_blank">Base64 Encoding &amp; Performance, Part 1 and 2 by Harry Roberts</a></li>
<li>📖 <a href="http://www.andygup.net/a-closer-look-at-base64-image-performance/" rel="external nofollow noopener noreferrer" target="_blank">A closer look at Base64 image performance – The Page Not Found Blog</a></li>
<li>📖 <a href="https://www.davidbcalhoun.com/2011/when-to-base64-encode-images-and-when-not-to/" rel="external nofollow noopener noreferrer" target="_blank">When to base64 encode images (and when not to) | David Calhoun</a><ul>
<li>📖 <a href="https://varvy.com/pagespeed/base64-images.html" rel="external nofollow noopener noreferrer" target="_blank">Base64 encoding images for faster pages | Performance and seo factors</a></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>懒加载：</strong>  图像懒加载（始终提供noscript作为后备方案）。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>它能改善当前页面的响应时间，避免加载一些用户可能不需要或不必要的图像。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>使用<a href="https://developers.google.com/web/tools/lighthouse/" rel="external nofollow noopener noreferrer" target="_blank">Lighthouse</a>可以识别屏幕外的图像数量。<br>使用懒加载图像的JavaScript插件。</p>
</blockquote>
<ul>
<li>🛠 <a href="https://github.com/verlok/lazyload" rel="external nofollow noopener noreferrer" target="_blank">verlok/lazyload: Github</a></li>
<li>📖 <a href="https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/" rel="external nofollow noopener noreferrer" target="_blank">Lazy Loading Images and Video  |  Web Fundamentals  |  Google Developers</a></li>
<li>📖 <a href="http://blog.dynamicdrive.com/5-brilliant-ways-to-lazy-load-images-for-faster-page-loads/" rel="external nofollow noopener noreferrer" target="_blank">5 Brilliant Ways to Lazy Load Images For Faster Page Loads - Dynamic Drive Blog</a></li>
</ul>
</li>
<li><p><strong>响应式图像：</strong>  确保提供接近设备显示尺寸的图像。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>小型设备不需要比视口大的图像。建议在不同尺寸上使用一个图像的多个版本。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>为不同的设备设置不同大小的图像。<br>使用srcset和picture为每个图像提供多种变体（variants）。</p>
</blockquote>
<ul>
<li>📖 <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images" rel="external nofollow noopener noreferrer" target="_blank">Responsive images - Learn web development | MDN</a></li>
</ul>
</li>
</ul>
<h3 id="服务部署"><a href="#服务部署" class="headerlink" title="服务部署"></a>服务部署</h3><ul>
<li><p><strong>页面大小 &lt; 1500 KB:</strong>  (理想情况 &lt; 500 KB) 尽可能减少页面和资源的大小。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>理想情况下，应该尝试让页面大小&lt;500 KB，但Web页面大小中位数大约为1500 KB（即使在移动设备上）。根据你的目标用户、连接速度、设备，尽可能减少页面大小以尽可能获得最佳用户体验非常重要。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>前端性能清单中的所有规则将帮助你尽可能地减少资源和代码。</p>
</blockquote>
<ul>
<li>📖 <a href="https://httparchive.org/reports/page-weight#bytesTotal" rel="external nofollow noopener noreferrer" target="_blank">Page Weight</a></li>
<li>🛠 <a href="https://whatdoesmysitecost.com/" rel="external nofollow noopener noreferrer" target="_blank">What Does My Site Cost?</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Cookie 大小:</strong>  如果您使用cookie，请确保每个cookie不超过4096字节，并且一个域名下不超过20个cookie。</p>
<p> <em>为什么：</em></p>
<blockquote>
<p>cookie存在于HTTP头中，在Web服务器和浏览器之间交换。保持cookie的大小尽可能低是非常重要的，以尽量减少对用户响应时间的影响。</p>
</blockquote>
<p> <em>怎么做：</em></p>
<blockquote>
<p>消除不必要的cookie</p>
</blockquote>
<ul>
<li>📖 <a href="https://tools.ietf.org/html/rfc6265" rel="external nofollow noopener noreferrer" target="_blank">Cookie specification: RFC 6265</a></li>
<li>📖 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" rel="external nofollow noopener noreferrer" target="_blank">Cookies</a></li>
<li>🛠 <a href="http://browsercookielimits.squawky.net/" rel="external nofollow noopener noreferrer" target="_blank">Browser Cookie Limits</a></li>
<li>📖 <a href="http://www.monitis.com/blog/website-performance-cookies-dont-taste-so-good/" rel="external nofollow noopener noreferrer" target="_blank">Website Performance: Cookies Don’t Taste So Good - Monitis Blog</a></li>
<li>📖 <a href="https://www.globaldots.com/googles-web-performance-best-practices-3-minimize-request-overhead/" rel="external nofollow noopener noreferrer" target="_blank">Google’s Web Performance Best Practices #3: Minimize Request Overhead - GlobalDots Blog</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>最小化HTTP请求：</strong>  始终确保所请求的每个文件对网站或应用程序至关重要，尽可能减少http请求。</p>
</li>
<li><p><strong>使用CDN提供静态文件：</strong>  使用CDN可以更快地在全球范围内获取到你的静态文件。</p>
<ul>
<li>📖 <a href="https://www.cdnplanet.com/blog/10-tips-optimize-cdn-performance/" rel="external nofollow noopener noreferrer" target="_blank">10 Tips to Optimize CDN Performance - CDN Planet</a></li>
<li>📖 <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching" rel="external nofollow noopener noreferrer" target="_blank">HTTP Caching  |  Web Fundamentals  |  Google Developers</a></li>
</ul>
</li>
<li><p><strong>正确设置HTTP缓存标头：</strong>  合理设置HTTP缓存标头来减少http请求次数。</p>
</li>
<li><p><strong>启用GZIP压缩</strong> </p>
<ul>
<li>📖 <a href="https://checkgzipcompression.com/" rel="external nofollow noopener noreferrer" target="_blank">Check GZIP compression</a></li>
</ul>
</li>
<li><p><strong>分域存放资源：</strong>  由于浏览器同一域名并行下载数有限，利用多域名主机存放静态资源，增加并行下载数，缩短资源加载时间</p>
</li>
<li><p><strong>减少页面重定向</strong>  </p>
</li>
</ul>
<p> 以上清单仅为节选，来源 <a href="https://github.com/w3cay/Front-End-Performance-Checklist" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/w3cay/Front-End-Performance-Checklist</a></p>

  <p></p>

  
    <p class="post-tags">标签：<a class="classtest-link" href="../tags/web加速/">web加速</a>, <a class="classtest-link" href="../tags/web性能/">web性能</a>, <a class="classtest-link" href="../tags/web技术/">web技术</a></p>
  

    <hr>
  <div id="vcomments" style="margin-top: 50px;"></div>
  <script src="/js/Valine.min.js"></script>
  <script>
    new Valine({
      el: '#vcomments',
      appId: '2RPLQGvxicb06F127wr1yjsM-9Nh9j0Va',
      appKey: 'GOiYet2qQ4iPWbC93HrgFmpc',
      visitor: true,
      placeholder: "发表下你的看法吧"
    })
  </script>

  <link rel="stylesheet" href="/css/github.min.css">
  <script src="/js/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
          <div class="row mt-2">
  
  <div class="eight columns">
    <p id="madewith">
      <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none" rel="external nofollow noopener noreferrer" aria-label="Hexo.io">
      </a>
       ©
      <a href="http://w3cay.com" target="_blank" rel="noreferrer">安望云海</a>
      <a href="https://beian.miit.gov.cn" target="_blank" rel="external nofollow noopener noreferrer">豫ICP备2022016638号-1</a>
    </p>
    
  </div>

  <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
  <div class="four columns mb-3 posisi">
    
    <a class="ml-0 footer-link icon" href="https://github.com/w3cay" target="_blank" style="text-decoration: none" rel="external nofollow noopener noreferrer" aria-label="GitHub">
      <svg class="github svg-hov" width="18" height="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <title>GitHub</title>
        <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
      </svg>
    </a>
     
    <a class="ml-0 footer-link icon" href="https://w3cay.com/atom.xml" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="rss">
      <svg t="1647683387613" class="icon svg-hov" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1287" width="16" height="16">
        <path d="M832.512 63.488q26.624 0 49.664 10.24t40.448 27.648 27.648 40.448 10.24 49.664l0 704.512q0 26.624-10.24 49.664t-27.648 40.448-40.448 27.648-49.664 10.24l-704.512 0q-26.624 0-49.664-10.24t-40.448-27.648-27.648-40.448-10.24-49.664l0-704.512q0-26.624 10.24-49.664t27.648-40.448 40.448-27.648 49.664-10.24l704.512 0zM188.416 923.648q19.456 0 36.864-7.168t30.208-19.968 19.968-30.208 7.168-36.864-7.168-36.864-19.968-30.208-30.208-19.968-36.864-7.168q-20.48 0-37.376 7.168t-30.208 19.968-20.48 30.208-7.168 36.864 7.168 36.864 20.48 30.208 30.208 19.968 37.376 7.168zM446.464 897.024l36.864 0q15.36 0 30.208 0.512t31.232 0.512 36.864-1.024q0-93.184-35.84-175.616t-97.28-143.872-143.872-96.768-175.616-35.328q-1.024 24.576-1.024 39.936l0 28.672q0 14.336 0.512 29.184t0.512 37.376q65.536 0 123.392 24.576t100.864 67.584 68.096 100.864 25.088 123.392zM707.584 894.976q36.864 0 49.152 0.512t18.432 1.536 15.872 1.024 41.472-2.048q0-145.408-55.296-272.896t-150.528-222.72-223.232-150.528-273.408-55.296q-1.024 25.6-1.024 36.864l0 16.384q0 4.096 0.512 5.632t0.512 7.168 0.512 18.432 0.512 40.448q119.808 0 224.768 45.056t183.296 123.392 123.392 183.296 45.056 223.744z" p-id="1288" fill="#78aa50"/>
      </svg>
    </a>
    
  </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  
  <script src="/js/pic.min.js"></script>
  
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>